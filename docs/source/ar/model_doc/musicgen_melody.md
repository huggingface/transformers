# MusicGen Melody  

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©  

Ø§Ù‚ØªØ±Ø­ Ù†Ù…ÙˆØ°Ø¬ MusicGen Melody ÙÙŠ ÙˆØ±Ù‚Ø© "Simple and Controllable Music Generation" Ù…Ù† Ù‚Ø¨Ù„ Ø¬ÙŠØ¯ ÙƒÙˆØ¨ÙŠØªØŒ ÙˆÙÙŠÙ„ÙŠÙƒØ³ ÙƒØ±ÙˆÙƒØŒ ÙˆØ¥ÙŠØªØ§ÙŠ Ø¬Ø§ØªØŒ ÙˆØªØ§Ù„ Ø±ÙŠÙ…ÙŠØ²ØŒ ÙˆØ¯ÙŠÙÙŠØ¯ ÙƒØ§Ù†ØªØŒ ÙˆØºØ§Ø¨Ø±ÙŠÙŠÙ„ Ø³ÙŠÙ†ÙŠÙØŒ ÙˆÙŠÙˆØ³ÙŠ Ø¹Ø¯ÙŠØŒ ÙˆØ£Ù„ÙƒØ³Ù†Ø¯Ø± Ø¯ÙŠÙÙˆØ³ÙŠÙ‡.  

MusicGen Melody Ù‡Ùˆ Ù†Ù…ÙˆØ°Ø¬ ØªØ­ÙˆÙŠÙ„ÙŠ Ø£Ø­Ø§Ø¯ÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø°Ø§ØªÙŠØŒ ÙˆÙ‚Ø§Ø¯Ø± Ø¹Ù„Ù‰ ØªÙˆÙ„ÙŠØ¯ Ø¹ÙŠÙ†Ø§Øª Ù…ÙˆØ³ÙŠÙ‚ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£ÙˆØµØ§Ù Ù†ØµÙŠØ© Ø£Ùˆ Ø¥Ø´Ø§Ø±Ø§Øª ØµÙˆØªÙŠØ©. ØªÙ…Ø± Ø§Ù„Ø£ÙˆØµØ§Ù Ø§Ù„Ù†ØµÙŠØ© Ø¹Ø¨Ø± Ù†Ù…ÙˆØ°Ø¬ Ù…Ø´ÙØ± Ù†ØµÙŠ Ù…Ø¬Ù…Ø¯ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªØ³Ù„Ø³Ù„ Ù…Ù† Ø§Ù„ØªÙ…Ø«ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø®ÙÙŠØ©. Ø«Ù… ÙŠØªÙ… ØªØ¯Ø±ÙŠØ¨ MusicGen Ù„Ù„ØªÙ†Ø¨Ø¤ Ø¨Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„ØµÙˆØªÙŠØ© Ø§Ù„Ù…Ù†ÙØµÙ„Ø©ØŒ Ø£Ùˆ "Ø±Ù…ÙˆØ² Ø§Ù„ØµÙˆØª"ØŒ Ø§Ù„Ù…Ø´Ø±ÙˆØ·Ø© Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø®ÙÙŠØ©. Ø¨Ø¹Ø¯ Ø°Ù„ÙƒØŒ ÙŠØªÙ… ÙÙƒ ØªØ´ÙÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„ØµÙˆØªÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù…ÙˆØ°Ø¬ Ø¶ØºØ· ØµÙˆØªÙŠ Ù…Ø«Ù„ EnCodec Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù…ÙˆØ¬Ø© Ø§Ù„ØµÙˆØªÙŠØ©.  

Ù…Ù† Ø®Ù„Ø§Ù„ Ù†Ù…Ø· ØªØ´Ø§Ø¨Ùƒ Ø§Ù„Ø±Ù…ÙˆØ² Ø¨ÙƒÙØ§Ø¡Ø©ØŒ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ MusicGen Ø¥Ù„Ù‰ ØªÙ…Ø«ÙŠÙ„ Ø¯Ù„Ø§Ù„ÙŠ Ø°Ø§ØªÙŠ Ø§Ù„Ø¥Ø´Ø±Ø§Ù Ù„Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù†ØµÙŠØ©/Ø§Ù„ØµÙˆØªÙŠØ©ØŒ Ù…Ù…Ø§ ÙŠÙ„ØºÙŠ Ø§Ù„Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ ØªØ³Ù„Ø³Ù„ Ù†Ù…Ø§Ø°Ø¬ Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„ØªÙ†Ø¨Ø¤ Ø¨Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† ÙƒØªØ¨ Ø§Ù„Ø±Ù…ÙˆØ² (Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ØŒ ØªØ³Ù„Ø³Ù„ÙŠÙ‹Ø§ Ø£Ùˆ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹ÙŠÙ†Ø§Øª). Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„ÙƒØŒ ÙÙ‡Ùˆ Ù‚Ø§Ø¯Ø± Ø¹Ù„Ù‰ ØªÙˆÙ„ÙŠØ¯ Ø¬Ù…ÙŠØ¹ ÙƒØªØ¨ Ø§Ù„Ø±Ù…ÙˆØ² ÙÙŠ Ø¹Ù…Ù„ÙŠØ© ØªÙˆØ¬ÙŠÙ‡ ÙˆØ§Ø­Ø¯Ø©.  

Ø§Ù„Ù…Ù„Ø®Øµ Ù…Ù† Ø§Ù„ÙˆØ±Ù‚Ø© Ù‡Ùˆ Ù…Ø§ ÙŠÙ„ÙŠ:  

*Ù†Ø­Ù† Ù†ØªÙ†Ø§ÙˆÙ„ Ù…Ù‡Ù…Ø© ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„Ø´Ø±Ø·ÙŠ. Ù†Ù‚Ø¯Ù… MusicGenØŒ ÙˆÙ‡Ùˆ Ù†Ù…ÙˆØ°Ø¬ Ù„ØºØ© ÙˆØ§Ø­Ø¯ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¹Ø¯Ø© ØªÙŠØ§Ø±Ø§Øª Ù…Ù† Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚ÙŠ Ø§Ù„Ù…Ù†ÙØµÙ„ Ø§Ù„Ù…Ø¶ØºÙˆØ·ØŒ Ø£ÙŠ Ø§Ù„Ø±Ù…ÙˆØ². Ø¹Ù„Ù‰ Ø¹ÙƒØ³ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚ØŒ ÙŠØªÙƒÙˆÙ† MusicGen Ù…Ù† Ù†Ù…ÙˆØ°Ø¬ Ù„ØºØ© Ù…Ø­ÙˆÙ„ Ø£Ø­Ø§Ø¯ÙŠ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø¬Ù†Ø¨Ù‹Ø§ Ø¥Ù„Ù‰ Ø¬Ù†Ø¨ Ù…Ø¹ Ø£Ù†Ù…Ø§Ø· ØªØ´Ø§Ø¨Ùƒ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„ÙØ¹Ø§Ù„Ø©ØŒ ÙˆØ§Ù„ØªÙŠ ØªÙÙ„ØºÙŠ Ø§Ù„Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ ØªØ³Ù„Ø³Ù„ Ø¹Ø¯Ø© Ù†Ù…Ø§Ø°Ø¬ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ØŒ ØªØ³Ù„Ø³Ù„ÙŠÙ‹Ø§ Ø£Ùˆ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹ÙŠÙ†Ø§Øª. Ù…Ù† Ø®Ù„Ø§Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù†Ù‡Ø¬ØŒ Ù†ÙˆØ¶Ø­ ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† Ù„Ù€ MusicGen ØªÙˆÙ„ÙŠØ¯ Ø¹ÙŠÙ†Ø§Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø©ØŒ Ù…Ø¹ Ø§Ù„Ø´Ø±Ø· Ø¹Ù„Ù‰ Ø§Ù„ÙˆØµÙ Ø§Ù„Ù†ØµÙŠ Ø£Ùˆ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù„Ø­Ù†ÙŠØ©ØŒ Ù…Ù…Ø§ ÙŠØ³Ù…Ø­ Ø¨Ø¶ÙˆØ§Ø¨Ø· Ø£ÙØ¶Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ù…ÙˆÙ„Ø¯. Ù†Ø¬Ø±ÙŠ ØªÙ‚ÙŠÙŠÙ…Ù‹Ø§ ØªØ¬Ø±ÙŠØ¨ÙŠÙ‹Ø§ ÙˆØ§Ø³Ø¹ Ø§Ù„Ù†Ø·Ø§Ù‚ØŒ Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© ÙˆØ§Ù„Ø¨Ø´Ø±ÙŠØ© Ø¹Ù„Ù‰ Ø­Ø¯ Ø³ÙˆØ§Ø¡ØŒ Ù…Ù…Ø§ ÙŠÙØ¸Ù‡Ø± Ø£Ù† Ø§Ù„Ù†Ù‡Ø¬ Ø§Ù„Ù…Ù‚ØªØ±Ø­ Ù…ØªÙÙˆÙ‚ Ø¹Ù„Ù‰ Ø®Ø·ÙˆØ· Ø§Ù„Ø£Ø³Ø§Ø³ Ø§Ù„Ù…Ù‚ÙŠÙ…Ø© Ø¹Ù„Ù‰ Ù…Ø¹ÙŠØ§Ø± Ù‚ÙŠØ§Ø³ÙŠ Ù„Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰. Ù…Ù† Ø®Ù„Ø§Ù„ Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙ„ÙˆÙŠØŒ Ù†Ø³Ù„Ø· Ø§Ù„Ø¶ÙˆØ¡ Ø¹Ù„Ù‰ Ø£Ù‡Ù…ÙŠØ© ÙƒÙ„ Ù…ÙƒÙˆÙ† Ù…Ù† Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ØªÙŠ ÙŠØªÙƒÙˆÙ† Ù…Ù†Ù‡Ø§ MusicGen.*  

ØªÙ…Øª Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù…Ù† Ù‚Ø¨Ù„ [ylacombe](https://huggingface.co/ylacombe). ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ØµÙ„ÙŠ [Ù‡Ù†Ø§](https://github.com/facebookresearch/audiocraft). ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†Ù‚Ø§Ø· Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…Ø³Ø¨Ù‚Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø¹Ù„Ù‰ [Hugging Face Hub](https://huggingface.co/models?sort=downloads&search=facebook%2Fmusicgen).  

## Ø§Ù„ÙØ±Ù‚ Ù…Ø¹ [MusicGen](https://huggingface.co/docs/transformers/main/en/model_doc/musicgen)  

Ù‡Ù†Ø§Ùƒ Ø§Ø®ØªÙ„Ø§ÙØ§Ù† Ø±Ø¦ÙŠØ³ÙŠØ§Ù† Ù…Ø¹ MusicGen:  
1. ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø§Ù„ØµÙˆØªÙŠØ© Ù‡Ù†Ø§ ÙƒØ¥Ø´Ø§Ø±Ø© Ø´Ø±Ø·ÙŠØ© Ù„Ù„Ø¹ÙŠÙ†Ø© Ø§Ù„ØµÙˆØªÙŠØ© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©ØŒ Ø¨ÙŠÙ†Ù…Ø§ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„ØµÙˆØª ÙÙŠ [MusicGen](https://huggingface.co/docs/transformers/main/en/model_doc/musicgen).  
2. ÙŠØªÙ… Ø¯Ù…Ø¬ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù†ØµÙŠØ© ÙˆØ§Ù„ØµÙˆØªÙŠØ© Ø§Ù„Ø´Ø±Ø·ÙŠØ© Ù…Ø¹ Ø­Ø§Ù„Ø§Øª ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ù…Ø®ÙÙŠØ© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙƒØ¥Ø´Ø§Ø±Ø© Ø§Ù‡ØªÙ…Ø§Ù… Ù…ØªÙ‚Ø§Ø·Ø¹ØŒ ÙƒÙ…Ø§ Ù‡Ùˆ Ø§Ù„Ø­Ø§Ù„ ÙÙŠ MusicGen.  

## Ø§Ù„ØªÙˆÙ„ÙŠØ¯  

MusicGen Melody Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ ÙˆØ¶Ø¹ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯: Ø§Ù„Ø¬Ø´Ø¹ ÙˆØ§Ù„Ù†Ù…Ø°Ø¬Ø©. Ù…Ù† Ø§Ù„Ù†Ø§Ø­ÙŠØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©ØŒ ÙŠØ¤Ø¯ÙŠ Ø§Ù„Ù†Ù…Ø°Ø¬Ø© Ø¥Ù„Ù‰ Ù†ØªØ§Ø¦Ø¬ Ø£ÙØ¶Ù„ Ø¨ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø¬Ø´Ø¹ØŒ Ù„Ø°Ù„Ùƒ Ù†Ø´Ø¬Ø¹ Ø¹Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù…Ø°Ø¬Ø© Ø­ÙŠØ«Ù…Ø§ Ø£Ù…ÙƒÙ† Ø°Ù„Ùƒ. ÙŠØªÙ… ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù†Ù…Ø°Ø¬Ø© Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠØŒ ÙˆÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ¯Ù‡Ø§ Ø¨Ø´ÙƒÙ„ ØµØ±ÙŠØ­ Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ¹ÙŠÙŠÙ† `do_sample=True` ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø© Ø¥Ù„Ù‰ [`MusicgenMelodyForConditionalGeneration.generate`]` `ØŒ Ø£Ùˆ Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ¬Ø§ÙˆØ² ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ù„Ù„Ù†Ù…ÙˆØ°Ø¬ (Ø§Ù†Ø¸Ø± Ø£Ø¯Ù†Ø§Ù‡).  

ØªØ¯Ø¹Ù… Transformers ÙƒÙ„Ø§ Ø§Ù„Ø¥ØµØ¯Ø§Ø±ÙŠÙ† Ø£Ø­Ø§Ø¯ÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© (1-channel) Ùˆ Ø³ØªÙŠØ±ÙŠÙˆ (2-channel) Ù…Ù† MusicGen Melody. ØªÙ‚ÙˆÙ… Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ù†Ø§Ø© Ø£Ø­Ø§Ø¯ÙŠØ© Ø§Ù„Ù‚Ù†Ø§Ø© Ø¨ØªÙˆÙ„ÙŠØ¯ Ù…Ø¬Ù…ÙˆØ¹Ø© ÙˆØ§Ø­Ø¯Ø© Ù…Ù† ÙƒØªØ¨ Ø§Ù„Ø±Ù…ÙˆØ². ØªÙ‚ÙˆÙ… Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ø³ØªÙŠØ±ÙŠÙˆ Ø¨ØªÙˆÙ„ÙŠØ¯ Ù…Ø¬Ù…ÙˆØ¹ØªÙŠÙ† Ù…Ù† ÙƒØªØ¨ Ø§Ù„Ø±Ù…ÙˆØ²ØŒ ÙˆØ§Ø­Ø¯Ø© Ù„ÙƒÙ„ Ù‚Ù†Ø§Ø© (ÙŠØ³Ø§Ø±/ÙŠÙ…ÙŠÙ†)ØŒ ÙˆÙŠØªÙ… ÙÙƒ ØªØ´ÙÙŠØ± ÙƒÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† ÙƒØªØ¨ Ø§Ù„Ø±Ù…ÙˆØ² Ø¨Ø´ÙƒÙ„ Ù…Ø³ØªÙ‚Ù„ Ù…Ù† Ø®Ù„Ø§Ù„ Ù†Ù…ÙˆØ°Ø¬ Ø¶ØºØ· Ø§Ù„ØµÙˆØª. ÙŠØªÙ… Ø¯Ù…Ø¬ ØªÙŠØ§Ø±Ø§Øª Ø§Ù„ØµÙˆØª Ù„ÙƒÙ„ Ù‚Ù†Ø§Ø© Ù„Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ø³ØªÙŠØ±ÙŠÙˆ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ.  

#### Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø´Ø±Ø·ÙŠ Ø§Ù„ØµÙˆØªÙŠ  

ÙŠÙ…ÙƒÙ† Ù„Ù„Ù†Ù…ÙˆØ°Ø¬ ØªÙˆÙ„ÙŠØ¯ Ø¹ÙŠÙ†Ø© ØµÙˆØªÙŠØ© Ù…Ø´Ø±ÙˆØ·Ø© Ø¨Ù†Øµ ÙˆØ¥Ø´Ø§Ø±Ø© ØµÙˆØªÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… [`MusicgenMelodyProcessor`] Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„Ø§Øª.  

ÙÙŠ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©ØŒ Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù ØµÙˆØªÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© Datasets ğŸ¤—ØŒ ÙˆØ§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ† ØªØ«Ø¨ÙŠØªÙ‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø£Ù…Ø± Ø£Ø¯Ù†Ø§Ù‡:  

```
pip install --upgrade pip
pip install datasets[audio]
```  

ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù Ø§Ù„ØµÙˆØª Ø§Ù„Ø°ÙŠ Ø³Ù†Ø³ØªØ®Ø¯Ù…Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø­Ùˆ Ø§Ù„ØªØ§Ù„ÙŠ:  

```python
>>> from datasets import load_dataset

>>> dataset = load_dataset("sanchit-gandhi/gtzan", split="train", streaming=True)
>>> sample = next(iter(dataset))["audio"]
```  

Ù…Ù† Ø§Ù„Ù†Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©ØŒ ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø§Ù„ØµÙˆØªÙŠØ© Ø®Ø§Ù„ÙŠØ© Ù…Ù† Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø°Ø§Øª Ø§Ù„ØªØ±Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø®ÙØ¶ Ø§Ù„ØªÙŠ ØªÙ†ØªØ¬Ù‡Ø§ Ø¹Ø§Ø¯Ø©Ù‹ Ø¢Ù„Ø§Øª Ù…Ø«Ù„ Ø§Ù„Ø·Ø¨ÙˆÙ„ ÙˆØ§Ù„ØºÙŠØªØ§Ø± Ø§Ù„Ø¨Ø§Øµ. ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù…ÙˆØ°Ø¬ [Demucs](https://github.com/adefossez/demucs/tree/main) Ù„ÙØµÙ„ Ø§Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„Ø¶ÙˆØ¶Ø§Ø¡ Ø§Ù„Ø£Ø®Ø±Ù‰ Ø¹Ù† Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø·Ø¨ÙˆÙ„ ÙˆØ§Ù„ØºÙŠØªØ§Ø± Ø§Ù„Ø¨Ø§Øµ.  

Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ØºØ¨ ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… DemucsØŒ ÙÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø£ÙˆÙ„Ø§Ù‹ Ø§ØªØ¨Ø§Ø¹ Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ«Ø¨ÙŠØª [Ù‡Ù†Ø§](https://github.com/adefossez/demucs/tree/main?tab=readme-ov-file#for-musicians) Ù‚Ø¨Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù‚ØªØ·Ù Ø§Ù„ØªØ§Ù„ÙŠ:  

```python
from demucs import pretrained
from demucs.apply import apply_model
from demucs.audio import convert_audio
import torch


wav = torch.tensor(sample["array"]).to(torch.float32)

demucs = pretrained.get_model('htdemucs')

wav = convert_audio(wav[None], sample["sampling_rate"], demucs.samplerate, demucs.audio_channels)
wav = apply_model(demucs, wav[None])
```  

Ø¨Ø¹Ø¯ Ø°Ù„ÙƒØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù‚ØªØ·Ù Ø§Ù„ØªØ§Ù„ÙŠ Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰:  

```python
>>> from transformers import AutoProcessor, MusicgenMelodyForConditionalGeneration

>>> processor = AutoProcessor.from_pretrained("facebook/musicgen-melody")
>>> model = MusicgenMelodyForConditionalGeneration.from_pretrained("facebook/musicgen-melody")

>>> inputs = processor(
...     audio=wav,
...     sampling_rate=demucs.samplerate,
...     text=["80s blues track with groovy saxophone"],
...     padding=True,
...     return_tensors="pt",
... )
>>> audio_values = model.generate(**inputs, do_sample=True, guidance_scale=3, max_new_tokens=256)
```  

ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ù‹Ø§ ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø§Ù„ØµÙˆØªÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© Ø¯ÙˆÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… DemucsØŒ Ø¹Ù„Ù‰ Ø§Ù„Ø±ØºÙ… Ù…Ù† Ø£Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ù‚Ø¯ ØªØªØ¯Ù‡ÙˆØ±:  

```python
>>> from transformers import AutoProcessor, MusicgenMelodyForConditionalGeneration

>>> processor = AutoProcessor.from_pretrained("facebook/musicgen-melody")
>>> model = MusicgenMelodyForConditionalGeneration.from_pretrained("facebook/musicgen-melody")

>>> inputs = processor(
...     audio=sample["array"],
...     sampling_rate=sample["sampling_rate"],
...     text=["80s blues track with groovy saxophone"],
...     padding=True,
...     return_tensors="pt",
... )
>>> audio_values = model.generate(**inputs, do_sample=True, guidance_scale=3, max_new_tokens=256)
```  

Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„ØµÙˆØªÙŠ Ø¹Ø¨Ø§Ø±Ø© Ø¹Ù† Ù…ØµÙÙˆÙØ© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ù…Ù† Tensor Ø°Ø§Øª Ø§Ù„Ø´ÙƒÙ„ `(batch_sizeØŒ num_channelsØŒ sequence_length)`. Ù„Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø¹ÙŠÙ†Ø§Øª Ø§Ù„ØµÙˆØª Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ´ØºÙŠÙ„Ù‡Ø§ ÙÙŠ Ø¯ÙØªØ± Ù…Ù„Ø§Ø­Ø¸Ø§Øª ipynb:  

```python
from IPython.display import Audio

sampling_rate = model.config.audio_encoder.sampling_rate
Audio(audio_values[0].numpy(), rate=sampling_rate)
```  

Ø£Ùˆ Ø­ÙØ¸Ù‡Ø§ ÙƒÙ…Ù„Ù `.wav` Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© Ø®Ø§Ø±Ø¬ÙŠØ©ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ `soundfile`:  

```python
>>> import soundfile as sf

>>> sampling_rate = model.config.audio_encoder.sampling_rate
>>> sf.write("musicgen_out.wav", audio_values[0].T.numpy(), sampling_rate)
```  

### Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø´Ø±Ø·ÙŠ Ø§Ù„Ù†ØµÙŠ ÙÙ‚Ø·  

ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙØ³ [`MusicgenMelodyProcessor`] Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø´Ø§Ø±Ø© Ù†ØµÙŠØ© ÙÙ‚Ø·.  

```python
>>> from transformers import AutoProcessor, MusicgenMelodyForConditionalGeneration

>>> processor = AutoProcessor.from_pretrained("facebook/musicgen-melody")
>>> model = MusicgenMelodyForConditionalGeneration.from_pretrained("facebook/musicgen-melody")

>>> inputs = processor(
...     text=["80s pop track with bassy drums and synth", "90s rock song with loud guitars and heavy drums"],
...     padding=True,
...     return_tensors="pt",
... )
>>> audio_values = model.generate(**inputs, do_sample=True, guidance_scale=3, max_new_tokens=256)
```  

ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… `guidance_scale` ÙÙŠ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø­Ø± Ù„Ù„ØªØµÙ†ÙŠÙ (CFG)ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠØ­Ø¯Ø¯ ÙˆØ²Ù† Ø§Ù„Ù„ÙˆØºØ§Ø±ÙŠØªÙ…Ø§Øª Ø§Ù„Ø´Ø±Ø·ÙŠØ© (Ø§Ù„ØªÙŠ ÙŠØªÙ… Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ù‡Ø§ Ù…Ù† Ù…pts Ø§Ù„Ù†ØµÙŠØ©) ÙˆØ§Ù„Ù„ÙˆØºØ§Ø±ÙŠØªÙ…Ø§Øª ØºÙŠØ± Ø§Ù„Ø´Ø±Ø·ÙŠØ© (Ø§Ù„ØªÙŠ ÙŠØªÙ… Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ù‡Ø§ Ù…Ù† Ù…pt ØºÙŠØ± Ù…Ø´Ø±ÙˆØ· Ø£Ùˆ 'null'). ÙŠØ¤Ø¯ÙŠ Ø§Ø±ØªÙØ§Ø¹ Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ ØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¹Ù„Ù‰ ØªÙˆÙ„ÙŠØ¯ Ø¹ÙŠÙ†Ø§Øª Ù…Ø±ØªØ¨Ø·Ø© Ø§Ø±ØªØ¨Ø§Ø·Ù‹Ø§ Ø£ÙˆØ«Ù‚ Ø¨Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ø´Ø±Ø·ÙŠØ©ØŒ ÙˆØ¹Ø§Ø¯Ø© Ù…Ø§ ÙŠÙƒÙˆÙ† Ø°Ù„Ùƒ Ø¹Ù„Ù‰ Ø­Ø³Ø§Ø¨ Ø¬ÙˆØ¯Ø© Ø§Ù„ØµÙˆØª Ø§Ù„Ø±Ø¯ÙŠØ¦Ø©. ÙŠØªÙ… ØªÙ…ÙƒÙŠÙ† CFG Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ¹ÙŠÙŠÙ† `guidance_scale > 1`. Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ØŒ Ø§Ø³ØªØ®Ø¯Ù… `guidance_scale=3` (Ø§ÙØªØ±Ø§Ø¶ÙŠ).  

ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ù‹Ø§ Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ù„Ø¯ÙØ¹Ø§Øª:  

```python
>>> from transformers import AutoProcessor, MusicgenMelodyForConditionalGeneration
>>> from datasets import load_dataset

>>> processor = AutoProcessor.from_pretrained("facebook/musicgen-melody")
>>> model = MusicgenMelodyForConditionalGeneration.from_pretrained("facebook/musicgen-melody")

>>> # take the first quarter of the audio sample
>>> sample_1 = sample["array"][: len(sample["array"]) // 4]

>>> # take the first half of the audio sample
>>> sample_2 = sample["array"][: len(sample["array"]) // 2]

>>> inputs = processor(
...     audio=[sample_1, sample_2],
...     sampling_rate=sample["sampling_rate"],
...     text=["80s blues track with groovy saxophone", "90s rock song with loud guitars and heavy drums"],
...     padding=True,
...     return_tensors="pt",
... )
>>> audio_values = model.generate(**inputs, do_sample=True, guidance_scale=3, max_new_tokens=256)
```  

### Ø§Ù„ØªÙˆÙ„ÙŠØ¯ ØºÙŠØ± Ø§Ù„Ø´Ø±Ø·ÙŠ  

ÙŠÙ…ÙƒÙ† Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¯Ø®Ø§Ù„Ø§Øª Ø§Ù„ØªÙˆÙ„ÙŠØ¯ ØºÙŠØ± Ø§Ù„Ø´Ø±Ø·ÙŠ (Ø£Ùˆ 'null') Ù…Ù† Ø®Ù„Ø§Ù„ Ø·Ø±ÙŠÙ‚Ø© [`MusicgenMelodyProcessor.get_unconditional_inputs`]:  

```python
>>> from transformers import MusicgenMelodyForConditionalGeneration, MusicgenMelodyProcessor

>>> model = MusicgenMelodyForConditionalGeneration.from_pretrained("facebook/musicgen-melody")
>>> unconditional_inputs = MusicgenMelodyProcessor.from_pretrained("facebook/musicgen-melody").get_unconditional_inputs(num_samples=1)

>>> audio_values = model.generate(**unconditional_inputs, do_sample=True, max_new_tokens=256)
```  

### ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªÙˆÙ„ÙŠØ¯  

ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø§Ù„ØªÙŠ ØªØªØ­ÙƒÙ… ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙˆÙ„ÙŠØ¯ØŒ Ù…Ø«Ù„ Ø§Ù„Ù†Ù…Ø°Ø¬Ø©ØŒ ÙˆÙ…Ù‚ÙŠØ§Ø³ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ØŒ ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©ØŒ ÙÙŠ ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ù„Ù„Ù†Ù…ÙˆØ°Ø¬ØŒ ÙˆØªØ­Ø¯ÙŠØ«Ù‡Ø§ Ø­Ø³Ø¨ Ø§Ù„Ø±ØºØ¨Ø©:  

```python
>>> from transformers import MusicgenMelodyForConditionalGeneration

>>> model = MusicgenMelodyForConditionalGeneration.from_pretrained("facebook/musicgen-melody")

>>> # ÙØ­Øµ ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
>>> model.generation_config

>>> # Ø²ÙŠØ§Ø¯Ø© Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ 4.0
>>> model.generation_config.guidance_scale = 4.0

>>> # ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø·ÙˆÙ„ Ø§Ù„Ø£Ù‚ØµÙ‰ Ø¥Ù„Ù‰ 256 Ø±Ù…Ø²Ù‹Ø§
>>> model.generation_config.max_length = 256
```  

Ù„Ø§Ø­Ø¸ Ø£Ù† Ø£ÙŠ Ø­Ø¬Ø¬ ÙŠØªÙ… ØªÙ…Ø±ÙŠØ±Ù‡Ø§ Ø¥Ù„Ù‰ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø³ØªÙƒÙˆÙ† Ù„Ù‡Ø§ Ø§Ù„Ø£Ø³Ø¨Ù‚ÙŠØ© Ø¹Ù„Ù‰ ØªÙ„Ùƒ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªÙˆÙ„ÙŠØ¯ØŒ Ù„Ø°Ø§ ÙØ¥Ù† ØªØ¹ÙŠÙŠÙ† `do_sample=False` ÙÙŠ Ù…ÙƒØ§Ù„Ù…Ø© Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø³ØªÙƒÙˆÙ† Ù„Ù‡Ø§ Ø§Ù„Ø£Ø³Ø¨Ù‚ÙŠØ© Ø¹Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯ `model.generation_config.do_sample` ÙÙŠ ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªÙˆÙ„ÙŠØ¯.
## Ø¨Ù†ÙŠØ© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬

ÙŠÙ…ÙƒÙ† ØªÙÙƒÙŠÙƒ Ù†Ù…ÙˆØ°Ø¬ MusicGen Ø¥Ù„Ù‰ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Ø­Ù„ Ù…Ù…ÙŠØ²Ø©:

1. **ØªØ±Ù…ÙŠØ² Ø§Ù„Ù†Øµ**: ÙŠÙ‚ÙˆÙ… Ø¨ØªØ±Ù…ÙŠØ² Ù…Ø¯Ø®Ù„Ø§Øª Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ ØªØ³Ù„Ø³Ù„ Ù…Ù† Ø§Ù„ØªÙ…Ø«ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø®ÙÙŠØ©. ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…ÙØ¯Ø±Ø¨Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§ Ù…Ù† MusicGen ØªØ±Ù…ÙŠØ² Ù†Øµ Ù…Ø¬Ù…Ø¯Ù‹Ø§ Ø¥Ù…Ø§ Ù…Ù† T5 Ø£Ùˆ Flan-T5.

2. **ÙÙƒ ØªØ´ÙÙŠØ± MusicGen Melody**: Ù†Ù…ÙˆØ°Ø¬ Ù„ØºØ© ÙŠÙ‚ÙˆÙ… Ø¨ØªÙˆÙ„ÙŠØ¯ Ø±Ù…ÙˆØ² ØµÙˆØªÙŠØ© (Ø£Ùˆ Ø£ÙƒÙˆØ§Ø¯) Ø¨Ø´ÙƒÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ ØªÙ†Ø§Ø²Ù„ÙŠ Ù…Ø´Ø±ÙˆØ· Ø¨ØªÙ…Ø«ÙŠÙ„Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø®ÙÙŠØ© Ù„Ù„ØªØ±Ù…ÙŠØ².

3. **ÙÙƒ ØªØ´ÙÙŠØ± Ø§Ù„ØµÙˆØª**: ÙŠØ³ØªØ®Ø¯Ù… Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù…ÙˆØ¬Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ© Ù…Ù† Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„ØµÙˆØªÙŠØ© Ø§Ù„ØªÙŠ ÙŠØªÙ†Ø¨Ø£ Ø¨Ù‡Ø§ ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±.

ÙˆØ¨Ø§Ù„ØªØ§Ù„ÙŠØŒ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù…ÙˆØ°Ø¬ MusicGen Ø¥Ù…Ø§ ÙƒÙ†Ù…ÙˆØ°Ø¬ ÙÙƒ ØªØ´ÙÙŠØ± Ù…Ø³ØªÙ‚Ù„ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ÙØ¦Ø© [`MusicgenMelodyForCausalLM`]ØŒ Ø£Ùˆ ÙƒÙ†Ù…ÙˆØ°Ø¬ Ù…Ø±ÙƒØ¨ ÙŠØ´Ù…Ù„ ØªØ±Ù…ÙŠØ² Ø§Ù„Ù†Øµ ÙˆÙÙƒ ØªØ´ÙÙŠØ± Ø§Ù„ØµÙˆØªØŒ ÙˆØ§Ù„Ø°ÙŠ ÙŠØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ÙØ¦Ø© [`MusicgenMelodyForConditionalGeneration`]. Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø£Ù…Ø± ÙŠØªØ·Ù„Ø¨ ÙÙ‚Ø· ØªØ­Ù…ÙŠÙ„ ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± Ù…Ù† Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙØªÙŠØ´ Ø§Ù„Ù…ÙØ¯Ø±Ø¨Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§ØŒ ÙÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„Ù‡ Ø£ÙˆÙ„Ø§Ù‹ Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„ØµØ­ÙŠØ­ØŒ Ø£Ùˆ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡ Ù…Ù† Ø®Ù„Ø§Ù„ Ø³Ù…Ø© `.decoder` Ù„Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø±ÙƒØ¨:

```python
>>> from transformers import AutoConfig, MusicgenMelodyForCausalLM, MusicgenMelodyForConditionalGeneration

>>> # Ø§Ù„Ø®ÙŠØ§Ø± 1: Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙƒÙˆÙŠÙ† ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± ÙˆØ¥Ù…Ø±Ø§Ø±Ù‡ Ø¥Ù„Ù‰ `.from_pretrained`
>>> decoder_config = AutoConfig.from_pretrained("facebook/musicgen-melody").decoder
>>> decoder = MusicgenMelodyForCausalLM.from_pretrained("facebook/musicgen-melody", **decoder_config.to_dict())

>>> # Ø§Ù„Ø®ÙŠØ§Ø± 2: ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø±ÙƒØ¨ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ØŒ ÙˆÙ„ÙƒÙ† Ø¥Ø±Ø¬Ø§Ø¹ ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± ÙÙ‚Ø·
>>> decoder = MusicgenMelodyForConditionalGeneration.from_pretrained("facebook/musicgen-melody").decoder
```

Ù†Ø¸Ø±Ù‹Ø§ Ù„Ø£Ù† Ù†Ù…Ø§Ø°Ø¬ ØªØ±Ù…ÙŠØ² Ø§Ù„Ù†Øµ ÙˆÙÙƒ ØªØ´ÙÙŠØ± Ø§Ù„ØµÙˆØª ØªÙƒÙˆÙ† Ù…Ø¬Ù…Ø¯Ø© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ØŒ ÙÙŠÙ…ÙƒÙ† ØªØ¯Ø±ÙŠØ¨ ÙÙƒ ØªØ´ÙÙŠØ± MusicGen [`MusicgenMelodyForCausalLM`] Ø¨Ø´ÙƒÙ„ Ù…Ø³ØªÙ‚Ù„ Ø¹Ù„Ù‰ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø­Ø§Ù„Ø§Øª Ø§Ù„ØªØ±Ù…ÙŠØ² Ø§Ù„Ù…Ø®ÙÙŠØ© ÙˆØ±Ù…ÙˆØ² Ø§Ù„ØµÙˆØª. Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø§Ø³ØªØ¯Ù„Ø§Ù„ØŒ ÙŠÙ…ÙƒÙ† Ø¯Ù…Ø¬ ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø¨ Ù…Ø¹ ØªØ±Ù…ÙŠØ² Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø¬Ù…Ø¯ ÙˆÙÙƒ ØªØ´ÙÙŠØ± Ø§Ù„ØµÙˆØª Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø±ÙƒØ¨ [`MusicgenMelodyForConditionalGeneration`].

## ØªØ­ÙˆÙŠÙ„ Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙØªÙŠØ´

Ø¨Ø¹Ø¯ ØªÙ†Ø²ÙŠÙ„ Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙØªÙŠØ´ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù…Ù† [Ù‡Ù†Ø§](https://github.com/facebookresearch/audiocraft/blob/main/docs/MUSICGEN.md#importing--exporting-models)ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… **Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„** Ø§Ù„Ù…ØªØ§Ø­ ÙÙŠ `src/transformers/models/musicgen_melody/convert_musicgen_melody_transformers.py` Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø± Ø§Ù„ØªØ§Ù„ÙŠ:

```bash
python src/transformers/models/musicgen_melody/convert_musicgen_melody_transformers.py \
--checkpoint="facebook/musicgen-melody" --pytorch_dump_folder /output/path
```

Ù†ØµØ§Ø¦Ø­:

- ØªÙ… ØªØ¯Ø±ÙŠØ¨ MusicGen Ø¹Ù„Ù‰ Ù†Ù‚Ø·Ø© ØªÙØªÙŠØ´ Encodec 32 ÙƒÙŠÙ„Ùˆ Ù‡Ø±ØªØ². ÙŠØ¬Ø¨ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥ØµØ¯Ø§Ø± Ù…ØªÙˆØ§ÙÙ‚ Ù…Ù† Ù†Ù…ÙˆØ°Ø¬ Encodec.
- ÙŠÙ…ÙŠÙ„ ÙˆØ¶Ø¹ Ø£Ø®Ø° Ø§Ù„Ø¹ÙŠÙ†Ø§Øª Ø¥Ù„Ù‰ ØªÙ‚Ø¯ÙŠÙ… Ù†ØªØ§Ø¦Ø¬ Ø£ÙØ¶Ù„ Ù…Ù† Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¬Ø´Ø¹ - ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† ÙˆØ¶Ø¹ÙŠ Ø£Ø®Ø° Ø§Ù„Ø¹ÙŠÙ†Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ØªØºÙŠØ± `do_sample` ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø© Ø¥Ù„Ù‰ [`MusicgenMelodyForConditionalGeneration.generate`].

## MusicgenMelodyDecoderConfig

[[autodoc]] MusicgenMelodyDecoderConfig

## MusicgenMelodyProcessor

[[autodoc]] MusicgenMelodyProcessor

- get_unconditional_inputs

## MusicgenMelodyFeatureExtractor

[[autodoc]] MusicgenMelodyFeatureExtractor

- _extract_stem_indices

## MusicgenMelodyConfig

[[autodoc]] MusicgenMelodyConfig

## MusicgenMelodyModel

[[autodoc]] MusicgenMelodyModel

- forward

## MusicgenMelodyForCausalLM

[[autodoc]] MusicgenMelodyForCausalLM

- forward

## MusicgenMelodyForConditionalGeneration

[[autodoc]] MusicgenMelodyForConditionalGeneration

- forward