#                ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨
#           This file was automatically generated from src/transformers/models/pp_ocrv5_server_det/modular_pp_ocrv5_server_det.py.
#               Do NOT edit this file manually as any edits will be overwritten by the generation of
#             the file from the modular. If any change should be done, please apply the change to the
#                          modular_pp_ocrv5_server_det.py file directly. One of our CI enforces this.
#                ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨

from ...configuration_utils import PreTrainedConfig
from ...utils import auto_docstring


@auto_docstring(custom_intro="Configuration for the PPOCRV5 Server Det model.")
class PPOCRV5ServerDetConfig(PreTrainedConfig):
    model_type = "pp_ocrv5_server_det"

    """
    This is the configuration class to store the configuration of a [`PPOCRV5ServerDet`]. It is used to instantiate a
    PPOCRV5 Server text detection model according to the specified arguments, defining the model architecture.
    Instantiating a configuration with the defaults will yield a similar configuration to that of the PPOCRV5 Server Det
    [PaddlePaddle/PP-OCRv5-server-det](https://huggingface.co/PaddlePaddle/PP-OCRv5-server-det) architecture.

    Configuration objects inherit from [`PreTrainedConfig`] and can be used to control the model outputs. Read the
    documentation from [`PreTrainedConfig`] for more information.

    Args:
        interpolate_mode (`str`, *optional*, defaults to `"nearest"`):
            The interpolation mode used for upsampling or downsampling feature maps in the neck network.
        stem_channels (`list[int]`, *optional*, defaults to `[3, 32, 48]`):
            The number of output channels for the stem layers in the backbone network.
        backbone_config (`dict`, *optional*, defaults to `None`):
            The configuration of the backbone model. If `None`, the default backbone configuration for PPOCRV5 Server Det
            will be used.
        use_lab (`bool`, *optional*, defaults to `False`):
            Whether to use Large Adaptive Blocks (LAB) in the backbone architecture.
        use_last_conv (`bool`, *optional*, defaults to `True`):
            Whether to include the last convolutional layer in the backbone feature extractor.
        class_expand (`int`, *optional*, defaults to 2048):
            The expansion factor for the classification layer channels.
        dropout_prob (`float`, *optional*, defaults to 0.0):
            The dropout probability for the classification or bottleneck layers to prevent overfitting.
        class_num (`int`, *optional*, defaults to 1000):
            The number of classes for the pre-training task (typically ImageNet-1k).
        out_indices (`list[int]`, *optional*, defaults to `[0, 1, 2, 3]`):
            the indices of the backbone layers from which to extract feature maps for the neck.
        neck_out_channels (`int`, *optional*, defaults to 256):
            The number of output channels from the neck network, responsible for feature fusion and refinement.
        reduce_factor (`int`, *optional*, defaults to 2):
            The channel reduction factor used in the neck blocks to balance performance and complexity.
        intraclblock_config (`dict`, *optional*, defaults to `None`):
            Configuration for the Intra-Class Block modules, if any, used for enhancing feature representation.
        head_in_channels (`int`, *optional*, defaults to 1024):
            The number of input channels for the head network, derived from the fused neck features.
        k (`int`, *optional*, defaults to 50):
            The candidate box number threshold for the head network, controlling the maximum number of text region candidates.
        mode (`str`, *optional*, defaults to `"large"`):
            The model scale mode, such as `"large"` or `"small"`, affecting the depth and width of the network.
        scale_factor (`int`, *optional*, defaults to 2):
            The scaling factor used for spatial resolution adjustments in the feature maps.
        hidden_act (`str`, *optional*, defaults to `"relu"`):
            The non-linear activation function used in the hidden layers. Supported functions include `"relu"`, `"hswish"`, etc.
        kernel_list (`list[int]`, *optional*, defaults to `[3, 2, 2]`):
            The list of kernel sizes for convolutional layers in the head network for multi-scale feature extraction.
        fix_nan (`bool`, *optional*, defaults to `False`):
            Whether to enable numerical stability patches to prevent NaN values during training or inference.

    Examples:
    ```python
    >>> from transformers import PPOCRV5ServerDetConfig, PPOCRV5ServerDetForTextDetection
    >>> # Initializing a PPOCRV5 Server Det configuration
    >>> configuration = PPOCRV5ServerDetConfig()
    >>> # Initializing a model (with random weights) from the configuration
    >>> model = PPOCRV5ServerDetForTextDetection(configuration)
    >>> # Accessing the model configuration
    >>> configuration = model.config
    ```
    """

    def __init__(
        self,
        interpolate_mode: str = "nearest",
        stem_channels: list[int] = [3, 32, 48],
        backbone_config: dict | None = None,
        use_lab: bool = False,
        use_last_conv: bool = True,
        class_expand: int = 2048,
        dropout_prob: float = 0.0,
        class_num: int = 1000,
        out_indices: list[int] = [0, 1, 2, 3],
        neck_out_channels: int = 256,
        reduce_factor: int = 2,
        intraclblock_config: dict | None = None,
        head_in_channels: int = 1024,
        k: int = 50,
        mode: str = "large",
        scale_factor: int = 2,
        hidden_act: str = "relu",
        kernel_list: list[int] = [3, 2, 2],
        **kwargs,
    ) -> None:
        super().__init__(**kwargs)

        self.mode = mode
        self.interpolate_mode = interpolate_mode

        # Backbone
        self.stem_channels = stem_channels
        self.backbone_config = backbone_config
        self.use_lab = use_lab
        self.use_last_conv = use_last_conv
        self.class_expand = class_expand
        self.dropout_prob = dropout_prob
        self.class_num = class_num
        self.out_indices = out_indices

        self.neck_out_channels = neck_out_channels
        self.reduce_factor = reduce_factor
        self.intraclblock_config = intraclblock_config

        self.head_in_channels = head_in_channels
        self.k = k
        self.scale_factor = scale_factor
        self.hidden_act = hidden_act
        self.kernel_list = kernel_list


__all__ = ["PPOCRV5ServerDetConfig"]
