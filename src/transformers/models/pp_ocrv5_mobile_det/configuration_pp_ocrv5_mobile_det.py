#                ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨
#           This file was automatically generated from src/transformers/models/pp_ocrv5_mobile_det/modular_pp_ocrv5_mobile_det.py.
#               Do NOT edit this file manually as any edits will be overwritten by the generation of
#             the file from the modular. If any change should be done, please apply the change to the
#                          modular_pp_ocrv5_mobile_det.py file directly. One of our CI enforces this.
#                ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨ðŸš¨

from ...configuration_utils import PreTrainedConfig
from ...utils import auto_docstring


@auto_docstring(custom_intro="Configuration for the PPOCRV5 Mobile Det model.")
class PPOCRV5MobileDetConfig(PreTrainedConfig):
    model_type = "pp_ocrv5_mobile_det"

    """
    This is the configuration class to store the configuration of a [`PPOCRV5MobileDet`]. It is used to instantiate a
    PPOCRV5 Mobile text detection model according to the specified arguments, defining the model architecture.
    Instantiating a configuration with the defaults will yield a similar configuration to that of the PPOCRV5 Mobile Det
    [PaddlePaddle/PP-OCRv5-mobile-det](https://huggingface.co/PaddlePaddle/PP-OCRv5-mobile-det) architecture.

    Configuration objects inherit from [`PreTrainedConfig`] and can be used to control the model outputs. Read the
    documentation from [`PreTrainedConfig`] for more information.

    Args:
        backbone_config (`Union[dict, "PreTrainedConfig"]`, *optional*, defaults to `None`):
            The configuration of the backbone model. If `None`, the default backbone configuration for PPOCRV5 Mobile Det
            will be used.
        scale (`float`, *optional*, defaults to 1.0):
            The scaling factor for the model's channel dimensions, used to adjust the model size and computational cost
            without changing the overall architecture.
        conv_kxk_num (`int`, *optional*, defaults to 4):
            The number of stacked kxk convolutional layers in the backbone network, which is used to extract deep
            visual features from the input images.
        reduction (`int`, *optional*, defaults to 4):
            The reduction factor for feature channel dimensions, used to reduce the number of model parameters and
            computational complexity while maintaining feature representability.
        divisor (`int`, *optional*, defaults to 16):
            The divisor for adjusting channel dimensions, ensuring that the number of channels meets hardware
            optimization requirements (e.g., for efficient inference on mobile devices).
        backbone_out_channels (`int`, *optional*, defaults to 512):
            The number of output channels from the backbone network, which represents the dimension of the final
            feature maps extracted by the backbone.
        hidden_act (`str`, *optional*, defaults to `"hswish"`):
            The non-linear activation function used in the hidden layers of the model. Supported functions include
            `"hswish"`, `"relu"`, `"silu"`, and `"gelu"`. `"hswish"` is preferred for mobile-friendly efficient
            inference.
        neck_out_channels (`int`, *optional*, defaults to 96):
            The number of output channels from the neck network, which is responsible for feature fusion and
            refinement before passing features to the head network.
        shortcut (`bool`, *optional*, defaults to `True`):
            Whether to use shortcut connections (residual connections) in the neck network. Shortcut connections help
            alleviate the vanishing gradient problem and improve feature propagation across layers.
        interpolate_mode (`str`, *optional*, defaults to `"nearest"`):
            The interpolation mode used for upsampling or downsampling feature maps in the neck network. Supported
            modes include `"nearest"` (nearest neighbor interpolation) and `"bilinear"`.
        k (`int`, *optional*, defaults to 50):
            The candidate box number threshold for the head network, which controls the maximum number of text region
            candidates generated during the text detection process.
        kernel_list (`List[int]`, *optional*, defaults to `[3, 2, 2]`):
            The list of kernel sizes for convolutional layers in the head network, used for multi-scale feature
            extraction to detect text regions of different sizes.

    Examples:
    ```python
    >>> from transformers import PPOCRV5MobileDetConfig, PPOCRV5MobileDetForTextDetection
    >>> # Initializing a PPOCRV5 Mobile Det configuration
    >>> configuration = PPOCRV5MobileDetConfig()
    >>> # Initializing a model (with random weights) from the configuration
    >>> model = PPOCRV5MobileDetForTextDetection(configuration)
    >>> # Accessing the model configuration
    >>> configuration = model.config
    """

    def __init__(
        self,
        backbone_config: dict | None = None,
        scale: float = 1.0,
        conv_kxk_num: int = 4,
        reduction: int = 4,
        divisor: int = 16,
        backbone_out_channels: int = 512,
        hidden_act: str = "hswish",
        neck_out_channels: int = 96,
        shortcut: bool = True,
        interpolate_mode: str = "nearest",
        k: int = 50,
        kernel_list: list = [3, 2, 2],
        **kwargs,
    ):
        super().__init__(**kwargs)

        # Backbone
        self.backbone_config = backbone_config
        self.scale = scale
        self.conv_kxk_num = conv_kxk_num
        self.reduction = reduction
        self.divisor = divisor
        self.backbone_out_channels = backbone_out_channels
        self.hidden_act = hidden_act

        # Neck
        self.neck_out_channels = neck_out_channels
        self.shortcut = shortcut
        self.interpolate_mode = interpolate_mode

        # Head
        self.k = k
        self.kernel_list = kernel_list


__all__ = ["PPOCRV5MobileDetConfig"]
